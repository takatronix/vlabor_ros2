# AGENTS.md

## 開発フロー (最小)
1) build
   - `./scripts/build.sh`
2) stop (必要な場合のみ)
   - `./scripts/stop.sh`
3) start
   - `./scripts/vlabor <profile>` または `./scripts/vlabor` (メニュー)

## ドキュメント更新 (必須)
- 仕様や起動方法を変えたら README / node docs を必ず更新すること。
- 変更点と起動方法が README と一致しているか確認すること。

## 複数AIの使い方
- 役割分担: 設計/実装/レビューなど、AIごとに担当を分けて依頼する。
- 引き継ぎ: 目的・前提・変更範囲・未確定事項を短く共有する。
- 合流: 実装AIとレビューAIで結果を突き合わせ、差分があれば最終判断を人が行う。
- ルール: 変更点は必ずドキュメントへ反映し、重複や矛盾を避ける。

## _history / _backup ルール
- `_history/` は設計メモ・履歴の保存場所。
- `_backup/` は不要物の退避場所 (削除禁止)。
- 削除したいものは必ず `_backup/YYYY-MM-DD/` に移動する。
- 移動時は、元のパスが分かるように構造を保持する。

## clean ルール
- `build/`, `install/`, `log/` は必要に応じて削除して良い。
- `/tmp/vr_ros2_*` などの一時ログは必要に応じて削除して良い。

## テスト/検証
- 変更後に `./scripts/vlabor` で起動確認できること。
- テストまでOKなら commit & push を行う。

## テストファイル運用
- 一時テスト用のファイルはリポジトリに残さないこと。
- 必要なら `_backup/` に移動し、用途と日付をメモすること。

## テストの正式化
- 検証用コードは `tests/` か `docs/test_procedures.md` に整理して正式化する。
- 再現手順・前提・期待結果を明記し、手元テストから継続可能な形にする。
